# Redux - Products Module

โมดูลนี้ทำหน้าที่จัดการ **ข้อมูลสินค้าทั้งหมด** ใน Redux Store ประกอบด้วยการเพิ่มสินค้า, ปรับจำนวนสินค้า, และข้อมูลสินค้าตั้งต้น

## โครงสร้างไฟล์

- `actionTypes.js`: เก็บชื่อประเภทของการกระทำต่างๆ (Constants) เพื่อป้องกันการพิมพ์ผิด
- `action.js`: ฟังก์ชันสำหรับสร้าง Action (Action Creators) ที่จะส่งข้อมูลไปยัง Reducer
- `productReducer.js`: ฟังก์ชันหลักสำหรับเปลี่ยนแปลงข้อมูล State ตาม Action ที่ได้รับ
- `intialState.js`: ข้อมูลสินค้าเริ่มต้น (Mock Data) 10 รายการ

---

### 1. `actionTypes.js` (ประเภทคำสั่ง)

กำหนดชื่อ Action หลักๆ 3 อย่าง:

- `ADD_PRODUCT`: เพิ่มสินค้าใหม่
- `ADD_QUANTITY`: เพิ่มจำนวนสินค้าที่มีอยู่
- `REMOVE_QUANTITY`: ลดจำนวนสินค้าที่มีอยู่

### 2. `action.js` (ตัวส่งคำสั่ง)

รวบรวมฟังก์ชันสำหรับเรียกใช้ Action:

- `addProduct(product)`: ส่งข้อมูลสินค้าใหม่ไปเพิ่ม
- `addQuantity(productId, quantity)`: ส่ง ID และจำนวนที่จะเพิ่ม (ใน reducer ปัจจุบันใช้แค่ ID)
- `removeQuanity(productId, quantity)`: ส่ง ID สินค้าที่จะลดจำนวน

### 3. `productReducer.js` (ตัวจัดการข้อมูล)

จัดการ Logic การเปลี่ยนแปลงข้อมูล:

- **กรณี ADD_PRODUCT**:
  - หา ID ถัดไป (Next ID) โดยดูจาก ID สูงสุดที่มีอยู่แล้วบวก 1
  - แปลงราคาและจำนวนเป็นตัวเลข (Float/Int) เพื่อความถูกต้อง
  - เพิ่มสินค้าใหม่ต่อท้ายอาเรย์เดิม
- **กรณี ADD_QUANTITY**:
  - วนลูปหา Product ที่มี ID ตรงกัน
  - เพิ่มจำนวนสินค้า (`quantity`) ขึ้นทีละ 1
- **กรณี REMOVE_QUANTITY**:
  - วนลูปหา Product ที่มี ID ตรงกัน
  - ลดจำนวนสินค้า (`quantity`) ลงทีละ 1
  - มีการป้องกันไม่ให้ค่าติดลบ (`Math.max(0, ...)`)

### 4. `intialState.js` (ข้อมูลเริ่มต้น)

- เก็บ Array ของ Object สินค้า
- แต่ละสินค้ามีโครงสร้างข้อมูลดังนี้:
  ```javascript
  {
      id: 1,
      name: "ชื่อสินค้า",
      category: "หมวดหมู่",
      imageUrl: "ลิงก์รูปภาพ",
      price: 1999, // ราคา
      quantity: 15 // จำนวนสินค้าในสต็อก
  }
  ```

---

## หมายเหตุเพิ่มเติม

- **`nextId` Logic**: ฟังก์ชัน `reduce` ถูกใช้เพื่อหาค่า ID สูงสุด เพื่อให้สินค้าใหม่มี ID ที่ไม่ซ้ำกัน
- **Immutability**: การแก้ไข State ทั้งหมดทำผ่าน `.map()` หรือ `[...state]` เพื่อไม่ให้กระทบข้อมูลเดิมโดยตรง (ตามหลักการ Redux)
