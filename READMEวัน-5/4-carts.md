# Redux - Carts Module

โมดูลนี้ทำหน้าที่จัดการ **ตะกร้าสินค้า** ใน Redux Store ประกอบด้วยการเพิ่มสินค้าลงตะกร้า, การเพิ่ม/ลดจำนวนสินค้าในตะกร้า, และการลบสินค้าออกจากตะกร้า

## โครงสร้างไฟล์

- `actionTypes.js`: เก็บชื่อประเภทของการกระทำต่างๆ (Constants)
- `action.js`: ฟังก์ชันสำหรับสร้าง Action (Action Creators)
- `cartsreducer.js`: ฟังก์ชันหลักสำหรับเปลี่ยนแปลงข้อมูล State ในตะกร้าสินค้า
- `intialState.js`: ข้อมูลตะกร้าสินค้าเริ่มต้น (เป็น Array ว่าง `[]`)

---

### 1. `actionTypes.js` (ประเภทคำสั่ง)

กำหนดชื่อ Action หลักๆ 4 อย่าง:

- `ADD_TO_CART`: เพิ่มสินค้าลงตะกร้า
- `REMOVE_FROM_CART`: ลบสินค้าออกจากตะกร้า
- `INCREASE_QUANTITY`: เพิ่มจำนวนสินค้าในตะกร้าทีละ 1
- `DECREASE_QUANTITY`: ลดจำนวนสินค้าในตะกร้าทีละ 1

### 2. `action.js` (ตัวส่งคำสั่ง)

รวบรวมฟังก์ชันสำหรับเรียกใช้ Action:

- `addToCart(product)`: ส่งข้อมูลสินค้าทั้งก้อนไปเพิ่มในตะกร้า
- `removeFromCart(productId)`: ส่ง ID สินค้าเพื่อทำการลบออกจากตะกร้า
- `increaseQuantity(productId)`: ส่ง ID สินค้าเพื่อเพิ่มจำนวน
- `decreaseQuantity(productId)`: ส่ง ID สินค้าเพื่อลดจำนวน

### 3. `cartsreducer.js` (ตัวจัดการข้อมูล)

จัดการ Logic การเปลี่ยนแปลงข้อมูลในตะกร้า:

#### ฟังก์ชันช่วย (Helper Functions)

- `findProductInCart(state, action)`: ใช้สำหรับค้นหาว่าสินค้านั้นมีอยู่ในตะกร้าแล้วหรือยัง โดยเช็คจาก ID

#### ตรรกะการทำงาน (Switch Case)

- **กรณี ADD_TO_CART**:
  - ตรวจสอบก่อนว่ามีสินค้านี้ในตะกร้าไหม
  - **ถ้ามีแล้ว**: จะไม่เพิ่มแถวใหม่ แต่จะไป **เพิ่มจำนวน (quantity + 1)** ที่สินค้านั้นแทน
  - **ถ้ายังไม่มี**: จะเพิ่มสินค้านั้นลงใน Array ใหม่ และกำหนด `quantity: 1`
- **กรณี REMOVE_FROM_CART**:
  - สร้าง Array ใหม่โดยตัดสินค้าที่มี ID ตรงกันออก (`.filter`)

- **กรณี INCREASE_QUANTITY**:
  - วนลูปหา Product ที่มี ID ตรงกัน แล้วเพิ่ม `quantity + 1`

- **กรณี DECREASE_QUANTITY**:
  - วนลูปหา Product ที่มี ID ตรงกัน แล้วลด `quantity - 1`

### 4. `intialState.js` (ข้อมูลเริ่มต้น)

- เริ่มต้นเป็น Array ว่าง `[]` เพราะตอนแรกยังไม่มีสินค้าในตะกร้า

---

## ข้อสังเกตเพิ่มเติม

- **Logic การเพิ่มสินค้า**: มีการเช็คซ้ำ (Duplicate Check) ทำให้ไม่เกิดสินค้าเดิมซ้ำกันหลายแถว แต่จะไปเพิ่มที่จำนวนแทน ซึ่งเป็นวิธีที่ถูกต้องสำหรับการทำตะกร้าสินค้า
- **Immutability**: ใช้การ `.map()` และ `.filter()` เพื่อสร้าง State ใหม่เสมอ ไม่มีการแก้ไข Array เดิมโดยตรง
